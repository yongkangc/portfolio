<!DOCTYPE html>
<html lang="{{ .Site.Params.lang }}">
  {{- partial "head.html" . -}} {{ if or (.Params.math) (.Site.Params.math) }}
  {{- partial "math.html" . -}} {{ end }}
  <body>
    {{- partial "header.html" . -}}
    <div class="main-content">
      <div id="content">{{- block "main" . }}{{- end }}</div>
    </div>
    {{- partial "footer.html" . -}} {{ if and (not hugo.IsServer)
    .Site.Data.consent }} {{- partial "consent.html" . -}} {{ end }}

    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"
      integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/4.6.2/js/bootstrap.bundle.min.js"
      integrity="sha512-igl8WEUuas9k5dtnhKqyyld6TzzRjvMqLC79jkgT3z02FvJyHAuUtyemm/P/jYSne1xwFI06ezQxEwweaiV7VA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>

    <!-- Mobile Navigation Toggle -->
    <script>
    document.addEventListener('DOMContentLoaded', function() {
      var toggler = document.querySelector('.navbar-toggler');
      var nav = document.querySelector('#navbarNav');

      if (toggler && nav) {
        toggler.addEventListener('click', function(e) {
          e.preventDefault();
          e.stopPropagation();
          var isExpanded = nav.classList.contains('show');
          nav.classList.toggle('show');
          toggler.setAttribute('aria-expanded', !isExpanded);
        });

        // Close menu when clicking outside
        document.addEventListener('click', function(e) {
          if (!nav.contains(e.target) && !toggler.contains(e.target)) {
            if (nav.classList.contains('show')) {
              nav.classList.remove('show');
              toggler.setAttribute('aria-expanded', 'false');
            }
          }
        });

        // Close menu when clicking a link
        var navLinks = nav.querySelectorAll('.nav-link');
        navLinks.forEach(function(link) {
          link.addEventListener('click', function() {
            nav.classList.remove('show');
            toggler.setAttribute('aria-expanded', 'false');
          });
        });
      }
    });
    </script>
    
    <!-- Enhanced Code Copy Functionality -->
    <script src="{{ "js/code-copy.js" | relURL }}"></script>

    {{- partial "mermaid.html" . -}} {{ if .Site.Params.showConsent -}} {{-
    partial "consent.html" . -}} {{ end }}
  </body>
</html>
